{"version":3,"sources":["../src/script.js"],"names":["quiz","config","apiKey","authDomain","databaseURL","storageBucket","firebase","initializeApp","database","changeQuestion","questionNumber","ref","set","updateTeams","teams","ul","document","getElementById","firstChild","removeChild","Object","keys","forEach","team","li","createElement","appendChild","createTextNode","updateQuestionList","questions","questionName","questionRef","on","snapshot","button","addEventListener","setAttribute","val","quizRef"],"mappings":";;AAAA;;AAEA,IAAMA,OAAO,OAAb;;AAEA;AACA,IAAMC,SAAS;AACbC,UAAQ,yCADK;AAEbC,cAAY,gCAFC;AAGbC,eAAa,uCAHA;AAIbC,iBAAe;AAJF,CAAf;AAMAC,SAASC,aAAT,CAAuBN,MAAvB;;AAEA;AACA,IAAMO,WAAWF,SAASE,QAAT,EAAjB;;AAEA;AACA,SAASC,cAAT,CAAwBC,cAAxB,EAAwC;AACtCJ,WAASE,QAAT,GACGG,GADH,cACkBX,IADlB,uBAEGY,GAFH,CAEOF,cAFP;AAGD;;AAED;AACA,SAASG,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,MAAMC,KAAKC,SAASC,cAAT,CAAwB,OAAxB,CAAX;AACA,SAAOF,GAAGG,UAAV,EAAsB;AACpBH,OAAGI,WAAH,CAAeJ,GAAGG,UAAlB;AACD;AACDE,SAAOC,IAAP,CAAYP,KAAZ,EAAmBQ,OAAnB,CAA2B,UAACC,IAAD,EAAU;AACnC,QAAMC,KAAKR,SAASS,aAAT,CAAuB,IAAvB,CAAX;AACAD,OAAGE,WAAH,CAAeV,SAASW,cAAT,CAAwBJ,IAAxB,CAAf;AACAR,OAAGW,WAAH,CAAeF,EAAf;AACD,GAJD;AAKD;;AAED;AACA,SAASI,kBAAT,CAA4BC,SAA5B,EAAuC;AACrC,MAAMd,KAAKC,SAASC,cAAT,CAAwB,MAAxB,CAAX;AACA,SAAOF,GAAGG,UAAV,EAAsB;AACpBH,OAAGI,WAAH,CAAeJ,GAAGG,UAAlB;AACD;AACDE,SAAOC,IAAP,CAAYQ,SAAZ,EAAuBP,OAAvB,CAA+B,UAACQ,YAAD,EAAkB;AAC/C,QAAMC,cAAcvB,SAASG,GAAT,gBAA0BmB,YAA1B,eAApB;AACAC,gBAAYC,EAAZ,CAAe,OAAf,EAAwB,UAACC,QAAD,EAAc;AACpC,UAAMT,KAAKR,SAASS,aAAT,CAAuB,IAAvB,CAAX;AACA,UAAMS,SAASlB,SAASS,aAAT,CAAuB,QAAvB,CAAf;AACAS,aAAOC,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;AACrC1B,uBAAeoB,UAAUC,YAAV,CAAf;AACD,OAFD;AAGAI,aAAOE,YAAP,CAAoB,MAApB,EAA4BN,YAA5B;AACAI,aAAOR,WAAP,CAAmBV,SAASW,cAAT,CAAwB,iBAAxB,CAAnB;AACAH,SAAGE,WAAH,CAAeQ,MAAf;AACAV,SAAGE,WAAH,CAAeV,SAASW,cAAT,CAAwBM,SAASI,GAAT,EAAxB,CAAf;AACAtB,SAAGW,WAAH,CAAeF,EAAf;AACD,KAXD;AAYD,GAdD;AAeD;;AAED;AACAR,SAASmB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,MAAMG,UAAU9B,SAASG,GAAT,cAAwBX,IAAxB,CAAhB;AACAsC,UAAQN,EAAR,CAAW,OAAX,EAAoB,UAACC,QAAD,EAAc;AAChCpB,gBAAYoB,SAASI,GAAT,GAAevB,KAA3B;AACAc,uBAAmBK,SAASI,GAAT,GAAeR,SAAlC;AACD,GAHD;AAID,CAND","file":"script.js","sourcesContent":["/* eslint no-undef: \"off\" */\n\nconst quiz = 'quiz1';\n\n// Initialize Firebase\nconst config = {\n  apiKey: 'AIzaSyALJ6cVCitjh9VbVbBd2QBSE2HVn0vZz5o',\n  authDomain: 'pub-quiz-f19f3.firebaseapp.com',\n  databaseURL: 'https://pub-quiz-f19f3.firebaseio.com',\n  storageBucket: 'pub-quiz-f19f3.appspot.com',\n};\nfirebase.initializeApp(config);\n\n// Get a reference to the database service\nconst database = firebase.database();\n\n// Change current question\nfunction changeQuestion(questionNumber) {\n  firebase.database()\n    .ref(`quizzes/${quiz}/currentQuestion`)\n    .set(questionNumber);\n}\n\n// Updates list of teams\nfunction updateTeams(teams) {\n  const ul = document.getElementById('teams');\n  while (ul.firstChild) {\n    ul.removeChild(ul.firstChild);\n  }\n  Object.keys(teams).forEach((team) => {\n    const li = document.createElement('li');\n    li.appendChild(document.createTextNode(team));\n    ul.appendChild(li);\n  });\n}\n\n// Create list of questions\nfunction updateQuestionList(questions) {\n  const ul = document.getElementById('quiz');\n  while (ul.firstChild) {\n    ul.removeChild(ul.firstChild);\n  }\n  Object.keys(questions).forEach((questionName) => {\n    const questionRef = database.ref(`questions/${questionName}/question`);\n    questionRef.on('value', (snapshot) => {\n      const li = document.createElement('li');\n      const button = document.createElement('button');\n      button.addEventListener('click', () => {\n        changeQuestion(questions[questionName]);\n      });\n      button.setAttribute('name', questionName);\n      button.appendChild(document.createTextNode('Velja spurningu'));\n      li.appendChild(button);\n      li.appendChild(document.createTextNode(snapshot.val()));\n      ul.appendChild(li);\n    });\n  });\n}\n\n// Updates teams and quizzes\ndocument.addEventListener('DOMContentLoaded', () => {\n  const quizRef = database.ref(`quizzes/${quiz}`);\n  quizRef.on('value', (snapshot) => {\n    updateTeams(snapshot.val().teams);\n    updateQuestionList(snapshot.val().questions);\n  });\n});\n\n"]}